jQuery(function(){var e=jQuery('<div id="loader"><img src="'+pythia_settings.loader_image_url+'" alt="loading..."></div>').css({position:"absolute",top:"50%",left:"50%",display:"inline"}).appendTo(".py-wrapper .main").hide(),n=jQuery("#wc_pythia_sign_up").show();jQuery(".py-alert--error"),n.steps({headerTag:".js-pyStepz__title",bodyTag:".py-content",transitionEffect:"slideLeft",enablePagination:!1,enableCancelButton:!0,onCanceled:function(e){},onStepChanging:function(e,n,a){return!0},onStepChanged:function(e,a,t){2===a&&3===t&&n.steps("previous")},onFinishing:function(e,n){},onFinished:function(e,n){}}).validate({rules:{new_password2:{equalTo:"#new_password"}},submitHandler:function(a){e.show(),jQuery(".py-error-message").html("").parent().hide();var t={action:"pythia_sign_up"};jQuery.each(jQuery(a).serializeArray(),function(e,n){t[n.name]=n.value}),jQuery.post({url:ajaxurl,data:t,dataType:"json",success:function(e){jQuery(".py-error-message").html(""),jQuery(".py-alert--error").hide()}}).fail(function(e){e.responseJSON&&(jQuery(".py-error-message").html(e.responseJSON.data.join(" ")),jQuery(".py-alert--error").show())}).always(function(n){e.hide()}).done(function(a){if(a){e.show();jQuery.post({url:ajaxurl,dataType:"json",data:{action:"pythia_store_settings",first_name:a.data.first_name,last_name:a.data.last_name,project_name:a.data.project.name,email:a.data.email,source_token:a.data.source_token},success:function(e){jQuery("#wc_pythia_source_token").html(e.data.source_token),n.steps("next")}}).fail(function(e){e.responseJSON&&(jQuery(".py-error-message").html(e.responseJSON.data.join(" ")),jQuery(".py-alert--error").show())}).always(function(){e.hide()})}})}});jQuery(".pybtn-next").on("click",function(e){n.steps("next")})});
